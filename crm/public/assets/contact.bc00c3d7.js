var P=Object.defineProperty;var x=Object.getOwnPropertySymbols;var A=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable;var k=(t,n,a)=>n in t?P(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,N=(t,n)=>{for(var a in n||(n={}))A.call(n,a)&&k(t,a,n[a]);if(x)for(var a of x(n))T.call(n,a)&&k(t,a,n[a]);return t};var j=(t,n)=>{var a={};for(var i in t)A.call(t,i)&&n.indexOf(i)<0&&(a[i]=t[i]);if(t!=null&&x)for(var i of x(t))n.indexOf(i)<0&&T.call(t,i)&&(a[i]=t[i]);return a};import{L as V,c as $}from"./index.2770d965.js";import{i as z,A as Q}from"./index.12d89f27.js";import{c as O}from"./controllers.5aba4075.js";import{r as u,A as q,_ as C,h as E,i as U,k as o,M as c,j as e,m as K,D as W,l as Y,n as G,o as S,B as h,P as J,F as v,p as F,I as X,q as Z,T as ee,s as te,S as ne,t as ae,v as re}from"./vendor.49e4a54c.js";import{C as p}from"./Column.65094d65.js";import{S as ie}from"./index.1d20d62e.js";import{F as se}from"./FilterOutlined.a66a0ed5.js";import"./var.env.093c0205.js";var oe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M904 512h-56c-4.4 0-8 3.6-8 8v320H184V184h320c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V520c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M355.9 534.9L354 653.8c-.1 8.9 7.1 16.2 16 16.2h.4l118-2.9c2-.1 4-.9 5.4-2.3l415.9-415c3.1-3.1 3.1-8.2 0-11.3L785.4 114.3c-1.6-1.6-3.6-2.3-5.7-2.3s-4.1.8-5.7 2.3l-415.8 415a8.3 8.3 0 00-2.3 5.6zm63.5 23.6L779.7 199l45.2 45.1-360.5 359.7-45.7 1.1.7-46.4z"}}]},name:"form",theme:"outlined"},de=oe,L=function(n,a){return u.exports.createElement(q,C(C({},n),{},{ref:a,icon:de}))};L.displayName="FormOutlined";var le=u.exports.forwardRef(L),ce={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888.3 757.4h-53.8c-4.2 0-7.7 3.5-7.7 7.7v61.8H197.1V197.1h629.8v61.8c0 4.2 3.5 7.7 7.7 7.7h53.8c4.2 0 7.7-3.4 7.7-7.7V158.7c0-17-13.7-30.7-30.7-30.7H158.7c-17 0-30.7 13.7-30.7 30.7v706.6c0 17 13.7 30.7 30.7 30.7h706.6c17 0 30.7-13.7 30.7-30.7V765.1c0-4.3-3.5-7.7-7.7-7.7zM902 476H588v-76c0-6.7-7.8-10.5-13-6.3l-141.9 112a8 8 0 000 12.6l141.9 112c5.3 4.2 13 .4 13-6.3v-76h314c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"}}]},name:"import",theme:"outlined"},me=ce,D=function(n,a){return u.exports.createElement(q,C(C({},n),{},{ref:a,icon:me}))};D.displayName="ImportOutlined";var ue=u.exports.forwardRef(D);const{CONTACT:pe}=O,he=async t=>{const{data:n}=await z.delete(`${pe}/${t}`);return n},ge=t=>E(he,{onSuccess:t}),{CONTACT:xe}=O,Ce=async(t,n)=>{const{data:a}=await z.patch(`${xe}/${t}`,n);return a},ve=t=>E(i=>{var m=i,{id:n}=m,a=j(m,["id"]);return Ce(n,a)},{onSuccess:()=>t()}),{CONTACT:ye}=O,w="query-contacts",fe=async()=>{const{instance:t}=new Q,{data:n}=await t.get(`${ye}`);return console.log(n),n},Ie=()=>U(w,fe),be=({key:t})=>{K.info(`Click on item ${t}`)},Ne=()=>o(c,{onClick:be,style:{borderRadius:"4px"},children:[e(c.Item,{children:e("span",{children:"Person"})},"person"),e(c.Item,{children:e("span",{children:"Company"})},"company"),e(c.Divider,{}),e(c.Item,{children:e("span",{children:"Filter Saved"})},"filterSaved"),e(c.Divider,{}),e(c.Item,{children:"Add more filter"},"moreFilter")]}),Oe=()=>e(W,{overlay:e(Ne,{}),placement:"bottomRight",children:o("a",{className:"ant-dropdown-link",onClick:t=>t.preventDefault(),children:[e(se,{}),e("span",{style:{marginLeft:"5px"},children:"Filter"})]})}),Se=()=>{const t=Y();return o("div",{style:{padding:"10px"},children:[e("span",{style:{fontSize:"27px",color:"rgba(0,0,0,0.7)",fontWeight:"700",padding:"10px"},children:"Contact"}),e("div",{children:o(G,{style:{alignItems:"center"},children:[e(S,{xs:3,sm:5,md:7,lg:9,xl:8,style:{marginLeft:"10px",marginTop:"20px"},children:e(ie,{placeholder:"Search for id, name or phone number"})}),e(S,{xs:4,sm:4,md:4,lg:4,xl:2,offset:4,style:{textAlign:"center",marginTop:"20px"},children:e(Oe,{})}),e(S,{xs:1,sm:2,md:4,lg:4,xl:2,style:{textAlign:"center",marginTop:"20px",marginLeft:"50px"},children:o("div",{style:{display:"flex",gap:20},children:[o(h,{className:"button-ant-custom-style",type:"primary",size:"middle",children:[e(J,{})," Create New Contact"]}),o(h,{className:"button-ant-custom-style",type:"primary",size:"middle",onClick:()=>{t("/import-contact")},children:[e(ue,{})," Import Contacts"]})]})})]})})]})},y=({editing:t,dataIndex:n,title:a,inputType:i="text",recordIndex:m,children:g,editingIndex:d,record:f,rules:l=[]})=>{const I=i==="number"?e(X,{}):e(Z,{});return e(v,{children:t&&m===d?e(F.Item,{name:n,style:{margin:0},rules:l,children:I}):e("p",{children:f[n]})})},Fe={onChange:(t,n)=>{},getCheckboxProps:t=>({disabled:t.name==="Disabled User",name:t.name})},we=()=>{const{data:t,isLoading:n}=Ie(),{mutate:a}=ve(()=>$.invalidateQueries(w)),{mutate:i}=ge(()=>$.invalidateQueries(w)),m=()=>e(Se,{}),[g]=F.useForm(),[d,f]=u.exports.useState(!1),[l,I]=u.exports.useState(""),b=()=>f(!d);if(n)return e(V,{});const M=s=>{b(),I(s.id);const{name:r,address:_,phone:B,email:H}=s;g.setFieldsValue({phone:B,name:r,email:H,address:_})},R=async s=>{try{const r=await g.validateFields();b(),a(N({id:s},r))}catch{return}};return e(v,{children:e(F,{form:g,children:t&&o(ee,{tableLayout:"fixed",rowSelection:N({type:"checkbox"},Fe),title:m,pagination:{position:["bottomCenter"],style:{fontSize:15}},dataSource:t,size:"large",children:[e(p,{title:"Name",dataIndex:"name",render:(s,r)=>e(y,{dataIndex:"name",editing:d,editingIndex:l,recordIndex:r.id,title:"Name",record:r,rules:[{required:!0,message:"Name is required"}]})},"name"),e(p,{title:"Address",dataIndex:"address",render:(s,r)=>e(y,{dataIndex:"address",editing:d,editingIndex:l,recordIndex:r.id,title:"Address",record:r,rules:[{required:!0,message:"Address is required"}]})},"address"),e(p,{title:"Phone Number",dataIndex:"phone",render:(s,r)=>e(y,{dataIndex:"phone",editing:d,editingIndex:l,recordIndex:r.id,title:"Name",record:r,rules:[{required:!0,message:"name is required"},{pattern:/(84|0[3|5|7|8|9])+([0-9]{8})\b/g,message:"must be phone number"}]})},"phone"),e(p,{title:"Email",dataIndex:"email",render:(s,r)=>e(y,{dataIndex:"email",editing:d,editingIndex:l,recordIndex:r.id,title:"Name",record:r,rules:[{required:!0,message:"Address is required"},{type:"email",message:"must be email"}]})},"email"),e(p,{title:"Type",dataIndex:"type",render:s=>e("span",{children:e(te,{color:"volcano",children:s.toUpperCase()},s.type)})},"type"),e(p,{title:"Action",dataIndex:"action",render:(s,r)=>e(ne,{size:"small",style:{width:"100%"},children:d&&r.id===l?o(v,{children:[e(h,{type:"link",onClick:()=>R(r.id),children:"Save"}),e(ae,{title:"Are you sure cancel this task?",onConfirm:b,children:e("span",{style:{cursor:"pointer"},children:"Cancel"})})]}):o(v,{children:[e(h,{type:"ghost",shape:"round",onClick:()=>M(r),children:e(le,{})}),e(h,{type:"default",onClick:()=>i(r.id),shape:"round",danger:!0,children:e(re,{})})]})})},"action")]})})})},Ae=()=>e("div",{style:{width:"100%"},className:"contact-container",children:e(we,{})}),Me=()=>e(Ae,{});export{Me as default};
