var P=Object.defineProperty;var g=Object.getOwnPropertySymbols;var N=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable;var O=(t,n,a)=>n in t?P(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,b=(t,n)=>{for(var a in n||(n={}))N.call(n,a)&&O(t,a,n[a]);if(g)for(var a of g(n))k.call(n,a)&&O(t,a,n[a]);return t};var w=(t,n)=>{var a={};for(var i in t)N.call(t,i)&&n.indexOf(i)<0&&(a[i]=t[i]);if(t!=null&&g)for(var i of g(t))n.indexOf(i)<0&&k.call(t,i)&&(a[i]=t[i]);return a};import{L as B,c as A}from"./index.5d4b226f.js";import{i as T}from"./index.4054faf5.js";import{c as j}from"./controllers.5aba4075.js";import{r as x,A as Q,_ as L,g as q,h as d,M as c,j as e,m as U,D as H,i as V,k as K,l as F,B as u,P as W,F as C,n as S,I as Y,o as G,T as J,p as X,S as Z,q as ee,s as te}from"./vendor.99654bca.js";import{u as ne,Q as z}from"./contact.get.6eef5b66.js";import{C as p}from"./Column.d5f50c4e.js";import{S as ae}from"./index.d88907d7.js";import{F as re}from"./FilterOutlined.93bcc775.js";import{I as ie}from"./ImportOutlined.3df99244.js";import"./var.env.093c0205.js";var se={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M904 512h-56c-4.4 0-8 3.6-8 8v320H184V184h320c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V520c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M355.9 534.9L354 653.8c-.1 8.9 7.1 16.2 16 16.2h.4l118-2.9c2-.1 4-.9 5.4-2.3l415.9-415c3.1-3.1 3.1-8.2 0-11.3L785.4 114.3c-1.6-1.6-3.6-2.3-5.7-2.3s-4.1.8-5.7 2.3l-415.8 415a8.3 8.3 0 00-2.3 5.6zm63.5 23.6L779.7 199l45.2 45.1-360.5 359.7-45.7 1.1.7-46.4z"}}]},name:"form",theme:"outlined"},de=se,D=function(n,a){return x.exports.createElement(Q,L(L({},n),{},{ref:a,icon:de}))};D.displayName="FormOutlined";var oe=x.exports.forwardRef(D);const{CONTACT:le}=j,ce=async t=>{const{data:n}=await T.delete(`${le}/${t}`);return n},me=t=>q(ce,{onSuccess:t}),{CONTACT:pe}=j,ue=async(t,n)=>{const{data:a}=await T.patch(`${pe}/${t}`,n);return a},he=t=>q(i=>{var m=i,{id:n}=m,a=w(m,["id"]);return ue(n,a)},{onSuccess:()=>t()}),ge=({key:t})=>{U.info(`Click on item ${t}`)},xe=()=>d(c,{onClick:ge,style:{borderRadius:"4px"},children:[e(c.Item,{children:e("span",{children:"Person"})},"person"),e(c.Item,{children:e("span",{children:"Company"})},"company"),e(c.Divider,{}),e(c.Item,{children:e("span",{children:"Filter Saved"})},"filterSaved"),e(c.Divider,{}),e(c.Item,{children:"Add more filter"},"moreFilter")]}),Ce=()=>e(H,{overlay:e(xe,{}),placement:"bottomRight",children:d("a",{className:"ant-dropdown-link",onClick:t=>t.preventDefault(),children:[e(re,{}),e("span",{style:{marginLeft:"5px"},children:"Filter"})]})}),fe=()=>{const t=V();return d("div",{style:{padding:"10px"},children:[e("span",{style:{fontSize:"27px",color:"rgba(0,0,0,0.7)",fontWeight:"700",padding:"10px"},children:"Contact"}),e("div",{children:d(K,{style:{alignItems:"center"},children:[e(F,{xs:3,sm:5,md:7,lg:9,xl:8,style:{marginLeft:"10px",marginTop:"20px"},children:e(ae,{placeholder:"Search for id, name or phone number"})}),e(F,{xs:4,sm:4,md:4,lg:4,xl:2,offset:4,style:{textAlign:"center",marginTop:"20px"},children:e(Ce,{})}),e(F,{xs:1,sm:2,md:4,lg:4,xl:2,style:{textAlign:"center",marginTop:"20px",marginLeft:"50px"},children:d("div",{style:{display:"flex",gap:20},children:[d(u,{className:"button-ant-custom-style",type:"primary",size:"middle",children:[e(W,{})," Create New Contact"]}),d(u,{className:"button-ant-custom-style",type:"primary",size:"middle",onClick:()=>{t("/import-contact")},children:[e(ie,{})," Import Contacts"]})]})})]})})]})},f=({editing:t,dataIndex:n,title:a,inputType:i="text",recordIndex:m,children:h,editingIndex:o,record:y,rules:l=[]})=>{const I=i==="number"?e(Y,{}):e(G,{});return e(C,{children:t&&m===o?e(S.Item,{name:n,style:{margin:0},rules:l,children:I}):e("p",{children:y[n]})})},ye={onChange:(t,n)=>{},getCheckboxProps:t=>({disabled:t.name==="Disabled User",name:t.name})},Ie=()=>{const{data:t,isLoading:n}=ne(),{mutate:a}=he(()=>A.invalidateQueries(z)),{mutate:i}=me(()=>A.invalidateQueries(z)),m=()=>e(fe,{}),[h]=S.useForm(),[o,y]=x.exports.useState(!1),[l,I]=x.exports.useState(""),v=()=>y(!o);if(n)return e(B,{});const E=s=>{v(),I(s.id);const{name:r,address:$,phone:R,email:M}=s;h.setFieldsValue({phone:R,name:r,email:M,address:$})},_=async s=>{try{const r=await h.validateFields();v(),a(b({id:s},r))}catch{return}};return e(C,{children:e(S,{form:h,children:t&&d(J,{tableLayout:"fixed",rowSelection:b({type:"checkbox"},ye),title:m,pagination:{position:["bottomCenter"],style:{fontSize:15}},dataSource:t,size:"large",children:[e(p,{title:"Name",dataIndex:"name",render:(s,r)=>e(f,{dataIndex:"name",editing:o,editingIndex:l,recordIndex:r.id,title:"Name",record:r,rules:[{required:!0,message:"Name is required"}]})},"name"),e(p,{title:"Address",dataIndex:"address",render:(s,r)=>e(f,{dataIndex:"address",editing:o,editingIndex:l,recordIndex:r.id,title:"Address",record:r,rules:[{required:!0,message:"Address is required"}]})},"address"),e(p,{title:"Phone Number",dataIndex:"phone",render:(s,r)=>e(f,{dataIndex:"phone",editing:o,editingIndex:l,recordIndex:r.id,title:"Name",record:r,rules:[{required:!0,message:"name is required"},{pattern:/(84|0[3|5|7|8|9])+([0-9]{8})\b/g,message:"must be phone number"}]})},"phone"),e(p,{title:"Email",dataIndex:"email",render:(s,r)=>e(f,{dataIndex:"email",editing:o,editingIndex:l,recordIndex:r.id,title:"Name",record:r,rules:[{required:!0,message:"Address is required"},{type:"email",message:"must be email"}]})},"email"),e(p,{title:"Type",dataIndex:"type",render:s=>e("span",{children:e(X,{color:"volcano",children:s.toUpperCase()},s.type)})},"type"),e(p,{title:"Action",dataIndex:"action",render:(s,r)=>e(Z,{size:"small",style:{width:"100%"},children:o&&r.id===l?d(C,{children:[e(u,{type:"link",onClick:()=>_(r.id),children:"Save"}),e(ee,{title:"Are you sure cancel this task?",onConfirm:v,children:e("span",{style:{cursor:"pointer"},children:"Cancel"})})]}):d(C,{children:[e(u,{type:"ghost",shape:"round",onClick:()=>E(r),children:e(oe,{})}),e(u,{type:"default",onClick:()=>i(r.id),shape:"round",danger:!0,children:e(te,{})})]})})},"action")]})})})},ve=()=>e("div",{style:{width:"100%"},className:"contact-container",children:e(Ie,{})}),qe=()=>e(ve,{});export{qe as default};
