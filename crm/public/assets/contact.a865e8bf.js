var P=Object.defineProperty;var x=Object.getOwnPropertySymbols;var O=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable;var k=(t,n,a)=>n in t?P(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,S=(t,n)=>{for(var a in n||(n={}))O.call(n,a)&&k(t,a,n[a]);if(x)for(var a of x(n))w.call(n,a)&&k(t,a,n[a]);return t};var A=(t,n)=>{var a={};for(var i in t)O.call(t,i)&&n.indexOf(i)<0&&(a[i]=t[i]);if(t!=null&&x)for(var i of x(t))n.indexOf(i)<0&&w.call(t,i)&&(a[i]=t[i]);return a};import{L as V,c as T}from"./index.e947fe81.js";import{i as j}from"./index.12d89f27.js";import{c as z}from"./controllers.5aba4075.js";import{r as p,A as E,_ as f,h as L,i as d,M as c,j as e,m as Q,D as U,k as K,l as W,n as F,B as h,P as Y,F as C,o as N,I as G,p as J,T as X,q as Z,S as ee,s as te,t as ne}from"./vendor.ea6bcc4e.js";import{u as ae,Q as $}from"./contact.get.957b3b75.js";import{C as u}from"./Column.83b7aca1.js";import{S as re}from"./index.62102c19.js";import{F as ie}from"./FilterOutlined.db081090.js";import"./var.env.093c0205.js";var se={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M904 512h-56c-4.4 0-8 3.6-8 8v320H184V184h320c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V520c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M355.9 534.9L354 653.8c-.1 8.9 7.1 16.2 16 16.2h.4l118-2.9c2-.1 4-.9 5.4-2.3l415.9-415c3.1-3.1 3.1-8.2 0-11.3L785.4 114.3c-1.6-1.6-3.6-2.3-5.7-2.3s-4.1.8-5.7 2.3l-415.8 415a8.3 8.3 0 00-2.3 5.6zm63.5 23.6L779.7 199l45.2 45.1-360.5 359.7-45.7 1.1.7-46.4z"}}]},name:"form",theme:"outlined"},de=se,q=function(n,a){return p.exports.createElement(E,f(f({},n),{},{ref:a,icon:de}))};q.displayName="FormOutlined";var oe=p.exports.forwardRef(q),le={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888.3 757.4h-53.8c-4.2 0-7.7 3.5-7.7 7.7v61.8H197.1V197.1h629.8v61.8c0 4.2 3.5 7.7 7.7 7.7h53.8c4.2 0 7.7-3.4 7.7-7.7V158.7c0-17-13.7-30.7-30.7-30.7H158.7c-17 0-30.7 13.7-30.7 30.7v706.6c0 17 13.7 30.7 30.7 30.7h706.6c17 0 30.7-13.7 30.7-30.7V765.1c0-4.3-3.5-7.7-7.7-7.7zM902 476H588v-76c0-6.7-7.8-10.5-13-6.3l-141.9 112a8 8 0 000 12.6l141.9 112c5.3 4.2 13 .4 13-6.3v-76h314c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"}}]},name:"import",theme:"outlined"},ce=le,D=function(n,a){return p.exports.createElement(E,f(f({},n),{},{ref:a,icon:ce}))};D.displayName="ImportOutlined";var me=p.exports.forwardRef(D);const{CONTACT:pe}=z,ue=async t=>{const{data:n}=await j.delete(`${pe}/${t}`);return n},he=t=>L(ue,{onSuccess:t}),{CONTACT:ge}=z,xe=async(t,n)=>{const{data:a}=await j.patch(`${ge}/${t}`,n);return a},fe=t=>L(i=>{var m=i,{id:n}=m,a=A(m,["id"]);return xe(n,a)},{onSuccess:()=>t()}),Ce=({key:t})=>{Q.info(`Click on item ${t}`)},ve=()=>d(c,{onClick:Ce,style:{borderRadius:"4px"},children:[e(c.Item,{children:e("span",{children:"Person"})},"person"),e(c.Item,{children:e("span",{children:"Company"})},"company"),e(c.Divider,{}),e(c.Item,{children:e("span",{children:"Filter Saved"})},"filterSaved"),e(c.Divider,{}),e(c.Item,{children:"Add more filter"},"moreFilter")]}),ye=()=>e(U,{overlay:e(ve,{}),placement:"bottomRight",children:d("a",{className:"ant-dropdown-link",onClick:t=>t.preventDefault(),children:[e(ie,{}),e("span",{style:{marginLeft:"5px"},children:"Filter"})]})}),Ie=()=>{const t=K();return d("div",{style:{padding:"10px"},children:[e("span",{style:{fontSize:"27px",color:"rgba(0,0,0,0.7)",fontWeight:"700",padding:"10px"},children:"Contact"}),e("div",{children:d(W,{style:{alignItems:"center"},children:[e(F,{xs:3,sm:5,md:7,lg:9,xl:8,style:{marginLeft:"10px",marginTop:"20px"},children:e(re,{placeholder:"Search for id, name or phone number"})}),e(F,{xs:4,sm:4,md:4,lg:4,xl:2,offset:4,style:{textAlign:"center",marginTop:"20px"},children:e(ye,{})}),e(F,{xs:1,sm:2,md:4,lg:4,xl:2,style:{textAlign:"center",marginTop:"20px",marginLeft:"50px"},children:d("div",{style:{display:"flex",gap:20},children:[d(h,{className:"button-ant-custom-style",type:"primary",size:"middle",children:[e(Y,{})," Create New Contact"]}),d(h,{className:"button-ant-custom-style",type:"primary",size:"middle",onClick:()=>{t("/import-contact")},children:[e(me,{})," Import Contacts"]})]})})]})})]})},v=({editing:t,dataIndex:n,title:a,inputType:i="text",recordIndex:m,children:g,editingIndex:o,record:y,rules:l=[]})=>{const I=i==="number"?e(G,{}):e(J,{});return e(C,{children:t&&m===o?e(N.Item,{name:n,style:{margin:0},rules:l,children:I}):e("p",{children:y[n]})})},be={onChange:(t,n)=>{},getCheckboxProps:t=>({disabled:t.name==="Disabled User",name:t.name})},Se=()=>{const{data:t,isLoading:n}=ae(),{mutate:a}=fe(()=>T.invalidateQueries($)),{mutate:i}=he(()=>T.invalidateQueries($)),m=()=>e(Ie,{}),[g]=N.useForm(),[o,y]=p.exports.useState(!1),[l,I]=p.exports.useState(""),b=()=>y(!o);if(n)return e(V,{});const M=s=>{b(),I(s.id);const{name:r,address:_,phone:B,email:H}=s;g.setFieldsValue({phone:B,name:r,email:H,address:_})},R=async s=>{try{const r=await g.validateFields();b(),a(S({id:s},r))}catch{return}};return e(C,{children:e(N,{form:g,children:t&&d(X,{tableLayout:"fixed",rowSelection:S({type:"checkbox"},be),title:m,pagination:{position:["bottomCenter"],style:{fontSize:15}},dataSource:t,size:"large",children:[e(u,{title:"Name",dataIndex:"name",render:(s,r)=>e(v,{dataIndex:"name",editing:o,editingIndex:l,recordIndex:r.id,title:"Name",record:r,rules:[{required:!0,message:"Name is required"}]})},"name"),e(u,{title:"Address",dataIndex:"address",render:(s,r)=>e(v,{dataIndex:"address",editing:o,editingIndex:l,recordIndex:r.id,title:"Address",record:r,rules:[{required:!0,message:"Address is required"}]})},"address"),e(u,{title:"Phone Number",dataIndex:"phone",render:(s,r)=>e(v,{dataIndex:"phone",editing:o,editingIndex:l,recordIndex:r.id,title:"Name",record:r,rules:[{required:!0,message:"name is required"},{pattern:/(84|0[3|5|7|8|9])+([0-9]{8})\b/g,message:"must be phone number"}]})},"phone"),e(u,{title:"Email",dataIndex:"email",render:(s,r)=>e(v,{dataIndex:"email",editing:o,editingIndex:l,recordIndex:r.id,title:"Name",record:r,rules:[{required:!0,message:"Address is required"},{type:"email",message:"must be email"}]})},"email"),e(u,{title:"Type",dataIndex:"type",render:s=>e("span",{children:e(Z,{color:"volcano",children:s.toUpperCase()},s.type)})},"type"),e(u,{title:"Action",dataIndex:"action",render:(s,r)=>e(ee,{size:"small",style:{width:"100%"},children:o&&r.id===l?d(C,{children:[e(h,{type:"link",onClick:()=>R(r.id),children:"Save"}),e(te,{title:"Are you sure cancel this task?",onConfirm:b,children:e("span",{style:{cursor:"pointer"},children:"Cancel"})})]}):d(C,{children:[e(h,{type:"ghost",shape:"round",onClick:()=>M(r),children:e(oe,{})}),e(h,{type:"default",onClick:()=>i(r.id),shape:"round",danger:!0,children:e(ne,{})})]})})},"action")]})})})},Fe=()=>e("div",{style:{width:"100%"},className:"contact-container",children:e(Se,{})}),$e=()=>e(Fe,{});export{$e as default};
